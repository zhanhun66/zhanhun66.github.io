"use strict";(self["webpackChunkgame_front"]=self["webpackChunkgame_front"]||[]).push([[978],{2617:function(e,a,s){var l=s(6265),t=s.n(l);const n=t().create({baseURL:"http://localhost:3000",timeout:9e3});class o{get(e,a){return n({url:e,method:"GET",params:a})}post(e,a){return n({url:e,method:"POST",data:a})}}a["Z"]=new o},5455:function(e,a,s){s.r(a),s.d(a,{default:function(){return ne}});var l=s(3396),t=s(7139),n=s(4870),o=s.p+"img/bg2.8104c823.jpg",r=s.p+"img/bg1.27385eca.jpg",i=s(678),u=s(2807),m=s(327),d=s(2972),c=s(2223),p=s(1836);const g=e=>((0,l.dD)("data-v-513dff31"),e=e(),(0,l.Cn)(),e),_=g((()=>(0,l._)("h2",null,"登录",-1))),f={class:"input-group"},v=g((()=>(0,l._)("i",{class:"fa fa-user-o icon"},null,-1))),w={class:"inputBox"},h=g((()=>(0,l._)("i",{class:"fa fa-key icon"},null,-1))),C={class:"inputBox"},b=(0,l.Uk)("登录");var y={__name:"loginContent",props:{imgChange:{type:Boolean,required:!0}},setup(e){const a=e,s=(0,i.tv)(),o=(0,n.iH)();let r=(0,n.iH)(!1);const g=(0,n.qj)({username:"",passwd:""}),y=async e=>{await e.validate((e=>{e?U():(0,u.z8)({message:"输入用户名和密码！",type:"warning",center:!0})}))};function U(){(0,c.x4)(g).then((e=>{(0,p.o4)(e.params.token),k(e)}))}const k=e=>{(0,m.bM)({title:"登录成功！",message:"即将跳转至游戏页面！",type:"warning"}),e.createTime=Date.now(),d.Z.saveItem("user",e),setTimeout((()=>{s.push("/game")}),1e3)},W={username:[{required:!0,message:"请输入账号！",trigger:"blur"},{min:3,max:20,message:"用户名长度不符！",trigger:"blur"}],passwd:[{required:!0,message:"请输入密码！",trigger:"blur"},{min:5,message:"密码长度不少于5位！",trigger:"blur"}]};return(e,s)=>{const i=(0,l.up)("el-input"),u=(0,l.up)("el-form-item"),m=(0,l.up)("el-form"),d=(0,l.up)("el-button");return(0,l.wg)(),(0,l.iD)("div",{class:(0,t.C_)(["login-container",{frontActive:!a.imgChange}])},[_,(0,l._)("div",f,[(0,l.Wm)(m,{ref_key:"LoginForm",ref:o,model:g,rules:W},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{prop:"username",class:"form-item"},{default:(0,l.w5)((()=>[v,(0,l._)("div",w,[(0,l.Wm)(i,{type:"text",modelValue:g.username,"onUpdate:modelValue":s[0]||(s[0]=e=>g.username=e),class:"input",placeholder:"请输入账号"},null,8,["modelValue"])])])),_:1}),(0,l.Wm)(u,{prop:"passwd",class:"form-item"},{default:(0,l.w5)((()=>[h,(0,l._)("div",C,[(0,l.Wm)(i,{type:"password",class:"input",modelValue:g.passwd,"onUpdate:modelValue":s[1]||(s[1]=e=>g.passwd=e),placeholder:"请输入密码"},null,8,["modelValue"])])])),_:1})])),_:1},8,["model"])]),(0,l.Wm)(d,{class:"btn",onClick:s[2]||(s[2]=e=>y(o.value)),loading:(0,n.SU)(r)},{default:(0,l.w5)((()=>[b])),_:1},8,["loading"])],2)}}},U=s(89);const k=(0,U.Z)(y,[["__scopeId","data-v-513dff31"]]);var W=k;s(1703),s(2617);const V=e=>((0,l.dD)("data-v-97dc4276"),e=e(),(0,l.Cn)(),e),x=V((()=>(0,l._)("h2",null,"注册",-1))),S={class:"input-group"},q={class:"items"},j=V((()=>(0,l._)("i",{class:"fa fa-user-o icon"},null,-1))),B={class:"inputBox"},D=V((()=>(0,l._)("i",{class:"fa fa-key icon"},null,-1))),H={class:"inputBox"},T=V((()=>(0,l._)("i",{class:"fa fa-key icon"},null,-1))),I={class:"inputBox"},P={class:"items"},Z=V((()=>(0,l._)("i",{class:"fa fa-envelope-o icon"},null,-1))),z={class:"inputBox"},A={key:0,class:"btnContainer"},E=(0,l.Uk)("暂时跳过"),F=(0,l.Uk)("立即激活会员"),L=(0,l.Uk)("立即注册");var M={__name:"registerContent",props:{imgChange:{type:Boolean,required:!0}},setup(e){const a=e,s=(0,i.tv)(),o=(0,n.iH)();let r=(0,n.iH)(0);const m=(0,n.iH)(),g=(0,n.iH)(),_=((0,n.qj)({codeMessage:"获取验证码",codeSecond:10,isLock:!1}),(0,n.qj)({username:"",passwd:"",judgePassword:""})),f=(0,n.qj)({email:"",code:""});function v(){s.push("/game")}function w(){f.email?(0,c.CT)(f.email).then((e=>{(0,u.z8)({message:"激活成功",type:"success"}),(0,c.eY)().then((e=>{e.createTime=Date.now(),d.Z.saveItem("user",e),setTimeout((()=>{s.push("/game")}),1e3)}))})):(0,u.z8)({message:"请输入卡号",type:"error"})}(0,l.YP)(a,(e=>{e.imgChange||(o.value.style.left="0",r.value=0)}));const h=async e=>{await e.validate((e=>{e?(0,c.YD)(_).then((e=>{(0,p.o4)(e.params.token),e.createTime=Date.now(),d.Z.saveItem("user",e),(0,u.z8)({message:"注册成功",type:"success"}),o.value.style.left="-300px",r.value=1})):(0,u.z8)({message:"输入信息不完整！",type:"warning",center:!0})}))},C=(e,a,s)=>{""===a?s(new Error("请再次输入密码！")):a!==_.passwd?s(new Error("两次密码不一致！")):s()},b=(0,n.qj)({username:[{required:!0,message:"请输入昵称！",trigger:"blur"},{min:3,message:"用户名长度不符！",trigger:"blur"}],passwd:[{required:!0,message:"请输入密码！",trigger:"blur"},{min:5,message:"密码长度不少于5位！",trigger:"blur"}],judgePassword:[{min:5,message:"密码长度不少于5位！",trigger:"blur"},{validator:C,trigger:"blur"}]});return(e,s)=>{const i=(0,l.up)("el-step"),u=(0,l.up)("el-steps"),d=(0,l.up)("el-input"),c=(0,l.up)("el-form-item"),p=(0,l.up)("el-form"),C=(0,l.up)("el-button");return(0,l.wg)(),(0,l.iD)("div",{class:(0,t.C_)(["register",{backActive:!a.imgChange}])},[x,(0,l.Wm)(u,{active:(0,n.SU)(r),"finish-status":"success",style:{width:"300px",margin:"20px 0"},"align-center":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{title:"基础信息"}),(0,l.Wm)(i,{title:"激活会员（可选）"})])),_:1},8,["active"]),(0,l._)("div",S,[(0,l._)("div",{class:"inputMoveContainer",ref_key:"moveContainer",ref:o},[(0,l._)("div",q,[(0,l.Wm)(p,{ref_key:"baseForm",ref:m,rules:b,model:_},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"form-item",prop:"username"},{default:(0,l.w5)((()=>[j,(0,l._)("div",B,[(0,l.Wm)(d,{type:"text",modelValue:_.username,"onUpdate:modelValue":s[0]||(s[0]=e=>_.username=e),class:"input",placeholder:"请输入用户名"},null,8,["modelValue"])])])),_:1}),(0,l.Wm)(c,{class:"form-item",prop:"passwd"},{default:(0,l.w5)((()=>[D,(0,l._)("div",H,[(0,l.Wm)(d,{type:"password",class:"input",modelValue:_.passwd,"onUpdate:modelValue":s[1]||(s[1]=e=>_.passwd=e),placeholder:"请输入密码"},null,8,["modelValue"])])])),_:1}),(0,l.Wm)(c,{class:"form-item",prop:"judgePassword"},{default:(0,l.w5)((()=>[T,(0,l._)("div",I,[(0,l.Wm)(d,{class:"input",type:"password",modelValue:_.judgePassword,"onUpdate:modelValue":s[2]||(s[2]=e=>_.judgePassword=e),placeholder:"请再次输入密码"},null,8,["modelValue"])])])),_:1})])),_:1},8,["rules","model"])]),(0,l._)("div",P,[(0,l.Wm)(p,{ref_key:"emailForm",ref:g,model:f},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"form-item",prop:"email"},{default:(0,l.w5)((()=>[Z,(0,l._)("div",z,[(0,l.Wm)(d,{class:"input",modelValue:f.email,"onUpdate:modelValue":s[3]||(s[3]=e=>f.email=e),placeholder:"请输入激活码"},null,8,["modelValue"])])])),_:1}),(0,l.Wm)(c,{class:"form-item",prop:"code"})])),_:1},8,["model"])])],512)]),(0,n.SU)(r)?((0,l.wg)(),(0,l.iD)("div",A,[(0,l.Wm)(C,{class:"btn small",onClick:v},{default:(0,l.w5)((()=>[E])),_:1}),(0,l.Wm)(C,{class:"btn small",onClick:s[4]||(s[4]=e=>w(g.value))},{default:(0,l.w5)((()=>[F])),_:1})])):((0,l.wg)(),(0,l.j4)(C,{key:1,class:"btn",onClick:s[5]||(s[5]=e=>h(m.value))},{default:(0,l.w5)((()=>[L])),_:1}))],2)}}};const Y=(0,U.Z)(M,[["__scopeId","data-v-97dc4276"]]);var R=Y;const G=e=>((0,l.dD)("data-v-28b7f380"),e=e(),(0,l.Cn)(),e),O={class:"login-container animate__animated animate__fadeIn"},J={class:"banner"},K=G((()=>(0,l._)("div",{class:"cover"},null,-1))),N={class:"imgBox"},Q=G((()=>(0,l._)("i",{class:"fa fa-angle-left"},null,-1))),X=G((()=>(0,l._)("span",null,"返回",-1))),$=[Q,X],ee={class:"contentBox"},ae={class:"changeBox"},se={class:"loginBox"};var le={__name:"index",setup(e){const a=(0,i.tv)();let s=(0,n.iH)(!1);return a.currentRoute.value.query.reg&&(s.value=!0),(e,i)=>{const u=(0,l.up)("el-switch");return(0,l.wg)(),(0,l.iD)("div",O,[(0,l._)("div",J,[K,(0,l._)("div",N,[(0,l._)("img",{class:(0,t.C_)({first:!0,firstChange:(0,n.SU)(s)}),src:o},null,2),(0,l._)("img",{class:(0,t.C_)({second:!0,secondChange:(0,n.SU)(s)}),src:r},null,2)]),(0,l._)("div",{class:"goHome",onClick:i[0]||(i[0]=e=>(0,n.SU)(a).push("/"))},$),(0,l._)("div",ee,[(0,l._)("div",ae,[(0,l._)("span",{class:(0,t.C_)({Active:!(0,n.SU)(s)}),onClick:i[1]||(i[1]=e=>(0,n.dq)(s)?s.value=!(0,n.SU)(s):s=!(0,n.SU)(s))},"登录",2),(0,l.Wm)(u,{modelValue:(0,n.SU)(s),"onUpdate:modelValue":i[2]||(i[2]=e=>(0,n.dq)(s)?s.value=e:s=e),width:50,style:{margin:"0 10px"},"active-color":"#147e68bd","inactive-color":"#5a096abd"},null,8,["modelValue"]),(0,l._)("span",{class:(0,t.C_)({Active:(0,n.SU)(s)}),onClick:i[3]||(i[3]=e=>(0,n.dq)(s)?s.value=!(0,n.SU)(s):s=!(0,n.SU)(s))},"注册",2)]),(0,l._)("div",se,[(0,l.Wm)((0,n.SU)(W),{imgChange:!(0,n.SU)(s)},null,8,["imgChange"]),(0,l.Wm)((0,n.SU)(R),{imgChange:!(0,n.SU)(s)},null,8,["imgChange"])])])])])}}};const te=(0,U.Z)(le,[["__scopeId","data-v-28b7f380"]]);var ne=te}}]);